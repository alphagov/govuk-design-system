{% extends "govuk/template.njk" %}
{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}

{% set htmlClasses = 'no-js' %}
{% set assetUrl = 'https://hmlr-design-system.herokuapp.com/assets' %}

{% block pageTitle %}{{ title }} â€“ HM Land Registry Design System{% endblock %}

{% block headIcons %}
  <link rel="shortcut icon" sizes="16x16 32x32 48x48" href="{{ assetPath | default('/assets') }}/images/favicon.ico" type="image/x-icon">
  <link rel="mask-icon" href="{{ assetPath | default('/assets') }}/images/mask-icon.svg" color="{{ themeColor | default('#0b0c0c') }}"> {# Hardcoded value of $govuk-black #}
  <link rel="apple-touch-icon" sizes="180x180" href="{{ assetPath | default('/assets') }}/images/apple-touch-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="{{ assetPath | default('/assets') }}/images/apple-touch-icon-167x167.png">
  <link rel="apple-touch-icon" sizes="152x152" href="{{ assetPath | default('/assets') }}/images/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" href="{{ assetPath | default('/assets') }}/images/apple-touch-icon.png">
{% endblock %}

{% block head %}
  {% if not ENVIRONMENT or ENVIRONMENT != 'production' %}
    <meta name="robots" content="noindex, nofollow">
  {% endif %}
  <meta name="og:title" content="{{title}}">
  <meta name="description" content="{{description}}">
  <meta name="og:description" content="{{description}}">
  <link rel="canonical" href="{{ canonical }}" />
  <!--[if lt IE 9]>
    <link href="{{ getFingerprint('stylesheets/main-ie8.css') }}" rel="stylesheet" media="all" />
    <script src="{{ getFingerprint('javascripts/head-ie8.js') }}"></script>
  <![endif]-->
  <!--[if !IE 8]><!-->
    <link href="{{ getFingerprint('stylesheets/main.css') }}" rel="stylesheet" media="all" />
  <!--<![endif]-->
  <meta property="og:image" content="{{ assetUrl | default('/assets') }}/images/hmlr-opengraph-image.png">
  <script src="{{ getFingerprint('javascripts/vendor/modernizr.js') }}"></script>
{% endblock %}

{% block bodyStart %}
  <a id="top"></a>
  <!--[if gte IE 9]><!-->
  {# {% include "_cookie-banner.njk" %} #}
  <!--<![endif]-->
{% endblock %}

{# We provide our own header, so blank the one provided by the template #}
{% block header %}{% endblock %}

{% block main %}
  {% include "hmlr/_header.njk" %}
  {% include "_navigation.njk" %}
  {% include "_banner.njk" %}
  {% block body %}
    {{ contents | safe }}
  {% endblock %}
{% endblock %}

{# We provide our own footer, so blank the one provided by the template #}
{% block footer %}{% endblock %}

{% block bodyEnd %}
  <script src="{{ getFingerprint('javascripts/govuk-frontend.js') }}"></script>
  <!--[if !IE 8]><!-->
    <script src="{{ getFingerprint('javascripts/application.js') }}"></script>
  <!--<![endif]-->
  <!--[if lt IE 9]>
    <script src="{{ getFingerprint('javascripts/vendor/ie8.polyfils.min.js') }}"></script>
    <script src="{{ getFingerprint('javascripts/application-ie8.js') }}"></script>
  <![endif]-->
{% endblock %}
