{% from "phase-banner/macro.njk" import govukPhaseBanner %}

{% if PULL_REQUEST %}
  {% set phaseBannerText %}
    This is a preview of
    {% if REVIEW_ID %}
      a <a class="govuk-link" href="https://github.com/alphagov/govuk-design-system/pull/{{ REVIEW_ID  }}">proposed change</a> to the
    {% else %}
      the <a class="govuk-link" href="https://github.com/alphagov/govuk-design-system/tree/{{ BRANCH }}">{{ BRANCH }}</a> branch for the
    {% endif %}
    <a class="govuk-link" href="https://govuk-design-system-production.cloudapps.digital">Design System</a>.
  {% endset %}

  {{ govukPhaseBanner({
    "tag": {
      "text": "preview",
      "classes": "app-tag--review"
    },
    "classes": "govuk-!-padding-left-3 govuk-!-padding-right-3",
    "html": phaseBannerText
  }) }}
{% else %}
  {{ govukPhaseBanner({
    "tag": {
      "text": "beta"
    },
    "classes": "govuk-!-padding-left-3 govuk-!-padding-right-3",
    "html": "This is a new service â€“ your <a class=\"govuk-link\" href=\"/design-system/get-in-touch\">feedback</a> will help us to improve it."
  }) }}
{% endif %}
