{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{% set phaseBannerClasses = "app-phase-banner app-width-container" %}
{% if masthead %}
  {% set phaseBannerClasses = phaseBannerClasses + " app-phase-banner--no-border" %}
{% endif %}

<div class="app-phase-banner__wrapper">
{% if PULL_REQUEST %}
  {% set phaseBannerText %}
    This is a preview of
    {% if REVIEW_ID %}
      a <a class="govuk-link" href="https://github.com/alphagov/govuk-design-system/pull/{{ REVIEW_ID  }}">proposed change</a> to the
    {% else %}
      the <a class="govuk-link" href="https://github.com/alphagov/govuk-design-system/tree/{{ BRANCH }}">{{ BRANCH }}</a> branch for the
    {% endif %}
    <a class="govuk-link" href="https://design-system.service.gov.uk">Design System</a>.
  {% endset %}

  {{ govukPhaseBanner({
    "tag": {
      "text": "preview",
      "classes": "app-tag--review"
    },
    "classes": phaseBannerClasses,
    "html": phaseBannerText
  }) }}
{% else %}
    {{ govukPhaseBanner({
      "tag": {
        "text": "beta"
      },
      "classes": phaseBannerClasses,
      "html": "This is a new service â€“ your <a class=\"govuk-link\" href=\"/get-in-touch\">feedback</a> will help us to improve it."
    }) }}
  {% endif %}
</div>
